<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mario Speed Rush - Corrida Revolucionária</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
            background: linear-gradient(135deg, #8E44AD, #3498DB);
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #game-container {
            width: 100%;
            height: 100vh;
            position: relative;
            overflow: hidden;
            background: linear-gradient(to bottom, #87CEEB 70%, #4CAF50 70%);
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
        }

        /* Tela de início */
        #start-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: transform 1s ease-in-out;
        }

        .game-title {
            font-size: 4rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 4px 4px 0 #FF6B6B, 
                        8px 8px 0 #4ECDC4,
                        12px 12px 0 #45B7D1;
            margin-bottom: 2rem;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-30px);}
            60% {transform: translateY(-15px);}
        }

        .start-button {
            padding: 20px 50px;
            font-size: 1.5rem;
            background: linear-gradient(45deg, #FF6B6B, #FF8E53);
            border: none;
            border-radius: 50px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }

        .start-button:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.6);
        }

        /* Elementos do jogo */
        #game-area {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        #road {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 200px;
            background: linear-gradient(to bottom, #7F8C8D, #95A5A6);
            perspective: 500px;
        }

        .road-line {
            position: absolute;
            width: 10px;
            height: 50px;
            background: white;
            animation: roadMove 2s linear infinite;
        }

        @keyframes roadMove {
            0% { transform: translateY(-100px); }
            100% { transform: translateY(200px); }
        }

        #player {
    position: absolute;
    bottom: 120px;
    left: 50%;
    width: 80px;
    height: 80px;
    background-image: url('mario1.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center bottom;
    transform: translateX(-50%);
    box-shadow: 0 10px 25px rgba(0,0,0,0.3);
    transition: transform 0.2s ease;
    z-index: 100;
    border-radius: 0; /* removido para imagem */
}


        .obstacle {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 10px;
            background: #34495E;
            animation: obstacleMove 3s linear forwards;
            z-index: 50;
        }

        @keyframes obstacleMove {
            0% { transform: translateY(-100px); }
            100% { transform: translateY(1000px); }
        }

        .coin {
            position: absolute;
            width: 30px;
            height: 30px;
            background: radial-gradient(circle at 30% 30%, #FFD700, #FFA500);
            border-radius: 50%;
            animation: coinSpin 2s linear infinite, coinMove 4s linear forwards;
            box-shadow: 0 0 15px #FFD700;
            z-index: 75;
        }

        @keyframes coinSpin {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }

        @keyframes coinMove {
            0% { transform: translateY(-100px) rotateY(0deg); }
            100% { transform: translateY(1000px) rotateY(360deg); }
        }

        /* UI do jogo */
        #game-ui {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            font-size: 1.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            z-index: 200;
        }

        #score {
            font-weight: bold;
            color: #FFD700;
        }

        #timer {
            margin-top: 10px;
            font-weight: bold;
            color: #FF6B6B;
        }

        #game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: rgba(0, 0, 0, 0.9);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            color: white;
            transition: transform 0.5s ease;
            z-index: 1000;
        }

        #game-over.visible {
            transform: translate(-50%, -50%) scale(1);
        }

        #final-score {
            font-size: 2rem;
            color: #FFD700;
            margin: 20px 0;
        }

        #restart-button {
            padding: 15px 40px;
            font-size: 1.2rem;
            background: linear-gradient(45deg, #00C9FF, #92FE9D);
            border: none;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #restart-button:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(146, 254, 157, 0.4);
        }

        /* Efeitos especiais */
        .explosion {
            position: absolute;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, #FF6B6B, #FF8E53, transparent 70%);
            border-radius: 50%;
            animation: explode 0.5s ease-out;
            z-index: 90;
        }

        @keyframes explode {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(3); opacity: 0; }
        }

        .speed-effect {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, transparent 70%);
            animation: speedFlash 5.0s ease-in-out;
            z-index: 80;
        }

        @keyframes speedFlash {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .game-title {
                font-size: 2.5rem;
            }
            
            .start-button {
                padding: 15px 30px;
                font-size: 1.2rem;
            }
            
            #player {
                width: 60px;
                height: 60px;
            }
            
            .obstacle {
                width: 50px;
                height: 50px;
            }
        }

        #mobile-controls {
    position: absolute;
    bottom: 20px;
    width: 100%;
    display: none;
    justify-content: center;
    gap: 30px;
    z-index: 1001;
    pointer-events: none; /* preveni conflitos quando inativo */
}

#mobile-controls button {
    background: rgba(0, 0, 0, 0.6);
    color: white;
    font-size: 2rem;
    border: none;
    border-radius: 50%;
    width: 70px;
    height: 70px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    cursor: pointer;
    pointer-events: auto;
    transition: transform 0.2s ease;
}

#mobile-controls button:active {
    transform: scale(1.2);
}

/* Mostrar controles apenas em telas pequenas */
@media (max-width: 768px) {
    #mobile-controls {
        display: flex;
    }
}

    </style>
</head>
<body>
    <div id="game-container">
        <!-- Tela de Início -->
        <div id="start-screen">
            <h1 class="game-title">MARIO SUPER RÁPIDO</h1>
            <p style="color: white; font-size: 1.2rem; margin-bottom: 2rem; text-align: center;">
                Desvie dos obstáculos, colete moedas e sobreviva o máximo possível!
            </p>
            <button class="start-button" onclick="startGame()">JOGAR AGORA</button>
            <div style="margin-top: 2rem; color: white; text-align: center;">
                <p>← → Movimentar</p>
                <p>ESPACO para turbo</p>
            </div>
        </div>

        <!-- Área Principal do Jogo -->
        <div id="game-area">
            <!-- Estrada -->
            <div id="road"></div>
            
            <!-- Jogador -->
            <div id="player"></div>
            
            <!-- Interface do Jogo -->
            <div id="game-ui">
                <div>Pontuação: <span id="score">0</span></div>
                <div>Tempo: <span id="timer">60</span>s</div>
                <div>Vidas: <span id="lives">3</span> ❤️</div>
            </div>

            <!-- Tela de Game Over -->
            <div id="game-over">
                <h2 style="color: #FF6B6B; font-size: 2.5rem;">GAME OVER!</h2>
                <p style="font-size: 1.2rem; margin: 20px 0;">Sua pontuação final:</p>
                <div id="final-score">0</div>
                <button id="restart-button" onclick="restartGame()">JOGAR NOVAMENTE</button>
            </div>
        </div>
    </div>

    <!-- Controles Mobile -->
<div id="mobile-controls">
    <button id="btn-left">⬅️</button>
    <button id="btn-boost">⚡</button>
    <button id="btn-right">➡️</button>
</div>


    <script>
        // Variáveis do jogo
        let gameStarted = false;
        let score = 0;
        let timer = 60;
        let lives = 3;
        let gameInterval;
        let obstacleInterval;
        let coinInterval;
        let timerInterval;
        let playerSpeed = 100;
        let isBoostActive = false;
        let boostTimeout;
        let audioContext;
        let obstacles = [];
        let coins = [];

        // Elementos DOM
        const startScreen = document.getElementById('start-screen');
        const gameArea = document.getElementById('game-area');
        const player = document.getElementById('player');
        const scoreDisplay = document.getElementById('score');
        const timerDisplay = document.getElementById('timer');
        const livesDisplay = document.getElementById('lives');
        const gameOverScreen = document.getElementById('game-over');
        const finalScoreDisplay = document.getElementById('final-score');
        const road = document.getElementById('road');

        // Sons do jogo (Web Audio API)
        function playSound(frequency, duration, type = 'sine') {
            if (!audioContext) audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.type = type;
            oscillator.frequency.value = frequency;
            gainNode.gain.value = 0.3;
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.start();
            gainNode.gain.exponentialRampToValueAtTime(0.00001, audioContext.currentTime + duration);
            
            setTimeout(() => oscillator.stop(), duration * 1000);
        }

        // Iniciar jogo
        function startGame() {
            if (gameStarted) return;
            
            gameStarted = true;
            score = 0;
            timer = 60;
            lives = 3;
            
            // Limpar elementos antigos
            obstacles.forEach(obs => obs.remove());
            coins.forEach(coin => coin.remove());
            obstacles = [];
            coins = [];
            
            // Esconder tela inicial
            startScreen.style.transform = 'translateY(-100%)';
            
            // Atualizar UI
            updateUI();
            
            // Iniciar estrada
            createRoadLines();
            
            // Iniciar intervalos do jogo
            gameInterval = setInterval(updateGame, 16); // ~60FPS
            obstacleInterval = setInterval(createObstacle, 1500);
            coinInterval = setInterval(createCoin, 2000);
            timerInterval = setInterval(updateTimer, 1000);
            
            // Iniciar áudio
            playSound(523.25, 0.5); // Nota C5
        }

        // Atualizar UI
        function updateUI() {
            scoreDisplay.textContent = score;
            timerDisplay.textContent = timer;
            livesDisplay.textContent = lives;
        }

        // Criar linhas da estrada
        function createRoadLines() {
            road.innerHTML = '';
            for (let i = 0; i < 20; i++) {
                const line = document.createElement('div');
                line.classList.add('road-line');
                line.style.left = `${(i * 20) % 100}%`;
                line.style.top = `${(i * 50) % 200 - 50}px`;
                road.appendChild(line);
            }
        }

        // Criar obstáculos
        function createObstacle() {
            if (!gameStarted) return;
            
            const obstacle = document.createElement('div');
            obstacle.classList.add('obstacle');
            obstacle.style.left = `${Math.random() * 85}%`;
            obstacle.dataset.created = Date.now();
            gameArea.appendChild(obstacle);
            obstacles.push(obstacle);
            
            // Remover após animação
            setTimeout(() => {
                if (obstacle.parentNode) {
                    obstacle.remove();
                    obstacles = obstacles.filter(obs => obs !== obstacle);
                }
            }, 3000);
        }

        // Criar moedas
        function createCoin() {
            if (!gameStarted) return;
            
            const coin = document.createElement('div');
            coin.classList.add('coin');
            coin.style.left = `${Math.random() * 85}%`;
            coin.dataset.created = Date.now();
            gameArea.appendChild(coin);
            coins.push(coin);
            
            // Remover após animação
            setTimeout(() => {
                if (coin.parentNode) {
                    coin.remove();
                    coins = coins.filter(c => c !== coin);
                }
            }, 4000);
        }

        // Atualizar jogo
        function updateGame() {
            if (!gameStarted) return;
            
            // Verificar colisões
            checkCollisions();
        }

        // Verificar colisões
        function checkCollisions() {
            const playerRect = player.getBoundingClientRect();
            
            // Verificar colisão com obstáculos
            obstacles.forEach(obstacle => {
                const obstacleRect = obstacle.getBoundingClientRect();
                if (isColliding(playerRect, obstacleRect)) {
                    handleCollision(obstacle);
                }
            });
            
            // Verificar colisão com moedas
            coins.forEach(coin => {
                const coinRect = coin.getBoundingClientRect();
                if (isColliding(playerRect, coinRect)) {
                    collectCoin(coin);
                }
            });
        }

        // Verificar se está colidindo
        function isColliding(rect1, rect2) {
            return !(
                rect1.right < rect2.left ||
                rect1.left > rect2.right ||
                rect1.bottom < rect2.top ||
                rect1.top > rect2.bottom
            );
        }

        // Lidar com colisão
        function handleCollision(obstacle) {
            lives--;
            updateUI();
            
            // Criar efeito de explosão
            const explosion = document.createElement('div');
            explosion.classList.add('explosion');
            explosion.style.left = obstacle.style.left;
            explosion.style.top = obstacle.style.top;
            gameArea.appendChild(explosion);
            
            // Remover explosão após animação
            setTimeout(() => explosion.remove(), 500);
            
            // Remover obstáculo
            obstacle.remove();
            obstacles = obstacles.filter(obs => obs !== obstacle);
            
            // Tocar som
            playSound(220, 0.5); // Nota A4
            
            if (lives <= 0) {
                endGame();
            }
        }

        // Coletar moeda
        function collectCoin(coin) {
            score += 10;
            updateUI();
            
            // Remover moeda
            coin.remove();
            coins = coins.filter(c => c !== coin);
            
            // Tocar som
            playSound(523.25, 0.3); // Nota C5
        }

        // Atualizar temporizador
        function updateTimer() {
            if (!gameStarted) return;
            
            timer--;
            updateUI();
            
            if (timer <= 0) {
                endGame();
            }
        }

        // Finalizar jogo
        function endGame() {
            gameStarted = false;
            
            // Parar intervalos
            clearInterval(gameInterval);
            clearInterval(obstacleInterval);
            clearInterval(coinInterval);
            clearInterval(timerInterval);
            
            // Mostrar tela de game over
            gameOverScreen.classList.add('visible');
            finalScoreDisplay.textContent = score;
            
            // Tocar som de game over
            playSound(196, 1); // Nota G3
        }

        // Reiniciar jogo
        function restartGame() {
            // Limpar elementos
            obstacles.forEach(obs => obs.remove());
            coins.forEach(coin => coin.remove());
            obstacles = [];
            coins = [];
            
            // Esconder tela de game over
            gameOverScreen.classList.remove('visible');
            
            // Mostrar tela inicial
            startScreen.style.transform = 'translateY(0)';
        }

        // Movimentar jogador
        document.addEventListener('keydown', (event) => {
            if (!gameStarted) return;
            
            if (event.key === 'ArrowLeft') {
                movePlayer(-playerSpeed);
            } else if (event.key === 'ArrowRight') {
                movePlayer(playerSpeed);
            } else if (event.key === ' ') {
                activateBoost();
            }
        });

        function movePlayer(delta) {
            const playerRect = player.getBoundingClientRect();
            const gameAreaRect = gameArea.getBoundingClientRect();
            const newLeft = player.offsetLeft + delta;
            
            // Limitar movimento dentro da área do jogo
            if (newLeft >= 0 && newLeft <= gameAreaRect.width - playerRect.width) {
                player.style.left = `${newLeft}px`;
            }
        }

        function activateBoost() {
            if (isBoostActive || !gameStarted) return;
            
            isBoostActive = true;
            const originalSpeed = playerSpeed;
            playerSpeed *= 2;
            
            // Criar efeito visual
            const speedEffect = document.createElement('div');
            speedEffect.classList.add('speed-effect');
            gameArea.appendChild(speedEffect);
            
            setTimeout(() => {
                speedEffect.remove();
            }, 300);
            
            // Restaurar velocidade após 3 segundos
            setTimeout(() => {
                playerSpeed = originalSpeed;
                isBoostActive = false;
            }, 3000);
        }

        // Controles Mobile
const btnLeft = document.getElementById('btn-left');
const btnRight = document.getElementById('btn-right');
const btnBoost = document.getElementById('btn-boost');

let moveLeftInterval, moveRightInterval;

btnLeft.addEventListener('touchstart', () => {
    if (!gameStarted) return;
    moveLeftInterval = setInterval(() => movePlayer(-playerSpeed), 100);
});

btnLeft.addEventListener('touchend', () => {
    clearInterval(moveLeftInterval);
});

btnRight.addEventListener('touchstart', () => {
    if (!gameStarted) return;
    moveRightInterval = setInterval(() => movePlayer(playerSpeed), 100);
});

btnRight.addEventListener('touchend', () => {
    clearInterval(moveRightInterval);
});

btnBoost.addEventListener('touchstart', () => {
    if (!gameStarted) return;
    activateBoost();
});

    </script>
</body>
</html>
